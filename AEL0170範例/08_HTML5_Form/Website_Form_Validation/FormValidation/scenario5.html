<!DOCTYPE html>
<!-- Copyright © Microsoft Corporation. All rights reserved. -->
<html>
<head>
    <meta charset="utf-8" />
    <title>Internet Explorer Developer Sample</title>
    <link rel="stylesheet" type="text/css" href="css/base-sdk.css" />
    <link rel="stylesheet" type="text/css" href="css/formLayout.css" />
    <script type="text/javascript" src="script/base-sdk.js"></script>
    <script type="text/javascript" src="script/scenario5.js"></script>
</head>
<body role="application">
    <div id="header" role="contentinfo"></div>

    <h1 id="sampleTitle">Form validation</h1>

    <!--Sample title-->
    <h2>Scenario 5: Submitting via FormData + XHR</h2>
    <p>
        <a href="default.html">Back to scenarios menu</a>
    </p>

    <!--Description and code snippet-->
    <div class="descRegion" role="region" aria-labelledby="descLabel" aria-live="assertive">
        <h3 id="descLabel">Description</h3>
        <div class="descContent">
            <p>
                After the user has entered all the right data, the final step is to submit
                that data. Since you can't navigate a Windows app in the traditional sense,
                one way you can submit the form contents is to use XMLHttpRequest (XHR).
                Using the new FormData object you can properly wrap form content in a way 
                that the xhr object can use to send to your server.
            </p>
            <p>
                The example here uses an event handler for the submit event. On the submit event,
                it creates a new FormData object with the form content and then sends that to
                the server using XMLHttpRequest. 
            </p>
            <h3 class="codeLabel">Code</h3>
<pre>
&lt;script&gt;
function init() { 
 id('Form5').addEventListener('submit', submitForm, false);
}

function submitForm(e) { 
 var formData = new FormData(this);
 var xhr = new XMLHttpRequest();
 xhr.open("POST", "http://contoso.com/submitform"); //replace with your own server
 xhr.send(formData);  
 
 e.preventDefault();
 return false;
}
&lt;/script&gt;

&lt;form id="Form5"&gt;
    &lt;fieldset&gt;
        &lt;legend&gt;Registration&lt;/legend&gt;
            &lt;label&gt;User Name&lt;br&gt;
            &lt;input name="userName" required="" type="text"&gt;
        &lt;/label&gt;
        &lt;label&gt;Password&lt;br&gt;
            &lt;input name="password" title="Passwords must be at least 8 characters long."
                required="" type="password" pattern="[^\s]{8}[^\s]*"&gt;
        &lt;/label&gt;
        &lt;label&gt;Email&lt;br&gt;
            &lt;input name="email" required="" type="email"&gt;
        &lt;/label&gt;
        &lt;label&gt;Telephone number&lt;br&gt;
            &lt;input name="telephone" title="(xxx) xxx-xxxx" type="tel"
                pattern="\(\d\d\d\) ?\d\d\d-\d\d\d\d"&gt;
        &lt;/label&gt;
        &lt;label&gt;City&lt;br&gt;
            &lt;input name="city" type="text"&gt;
        &lt;/label&gt;
        &lt;label&gt;State&lt;br&gt;
            &lt;select name="state" required=""&gt;
                &lt;option value="" selected=""&gt;&lt;/option&gt;
                &lt;option value="AL"&gt;Alabama&lt;/option&gt;
                &lt;option value="AK"&gt;Alaska&lt;/option&gt;
                ...
                &lt;option value="WI"&gt;Wisconsin&lt;/option&gt;
                &lt;option value="WY"&gt;Wyoming&lt;/option&gt;
            &lt;/select&gt;
        &lt;/label&gt;
        &lt;label&gt;Birth year&lt;br&gt;
            &lt;input name="birthYear" required="" type="number" min="1910" max="1997"&gt;
        &lt;/label&gt;
        &lt;fieldset&gt;
            &lt;legend&gt;How did you learn about our site?&lt;/legend&gt;
            &lt;label&gt;
                &lt;input name="learn" type="radio" value="friend"&gt;Through a friend
            &lt;/label&gt;&lt;br&gt;
            &lt;label&gt;
                &lt;input name="learn" type="radio" value="web"&gt;Read about it on a website
            &lt;/label&gt;&lt;br&gt;
            &lt;label&gt;
                &lt;input name="learn" type="radio" value="radio"&gt;Heard a radio advertisement
            &lt;/label&gt;&lt;br&gt;
            &lt;label&gt;
                &lt;input name="learn" type="radio" value="other"&gt;Other source
            &lt;/label&gt;
        &lt;/fieldset&gt;
        &lt;label&gt;
            &lt;input name="agreement" required="" type="checkbox"&gt;
            I agree to the terms of service for this site.
        &lt;/label&gt;
        &lt;fieldset&gt;
            &lt;button type="submit"&gt;Submit&lt;/button&gt;
            &lt;button type="button"&gt;Cancel&lt;/button&gt;
        &lt;/fieldset&gt;
    &lt;/fieldset&gt;
&lt;/form&gt;
</pre>
        </div>
    </div>

    <!--Rendered result-->
    <div class="resultRegion" role="region" aria-labelledby="resultLabel" aria-live="assertive">
        <h3 id="resultLabel">Result</h3>
        <div class="resultContent">
            <form id="form5">
                <fieldset class="formSection">
                    <legend class="formSectionHeading">Registration</legend>
                    <div class="twoColumnFormContainer">
                        <div  class="name" >
                            <label>User Name<br />
                                <input type="text" name="userName"  required placeholder="UserName"/>
                            </label>
                        </div>
                        <div class ="pass" >
                            <label>Password<br />
                                <input type="password" name="password4"  required pattern="[^\s]{8}[^\s]*" title="Passwords must be at least 8 characters long."/>
                            </label>
                        </div>
                        <div class="email" >
                            <label>Email<br />
                                <input type="email" name="email" required placeholder="joe@microsoft.com"/>
                            </label>
                        </div>
                        <div class="tel" >
                            <label>Telephone number<br />
                                <input  type="tel" name="telephone" pattern="\(\d\d\d\) ?\d\d\d-\d\d\d\d" title="(xxx) xxx-xxxx" placeholder="(425) 333-3333"/>
                            </label>
                        </div>
                        <div class="city">
                            <label>City<br />
                                <input type="text" name="city" placeholder="Redmond"/>
                            </label>
                        </div>
                        <div class="state" >
                            <label>State<br />
                                <select name="state" required>
                                    <option selected value=""></option>
                                    <option value="AL">Alabama</option>
                                    <option value="AK">Alaska</option>
                                    <option value="AZ">Arizona</option>
                                    <option value="AR">Arkansas</option>
                                    <option value="CA">California</option>
                                    <option value="CO">Colorado</option>
                                    <option value="CT">Connecticut</option>
                                    <option value="DC">District of Columbia</option>
                                    <option value="DE">Delaware</option>
                                    <option value="FL">Florida</option>
                                    <option value="GA">Georgia</option>
                                    <option value="HI">Hawaii</option>
                                    <option value="ID">Idaho</option>
                                    <option value="IL">Illinois</option>
                                    <option value="IN">Indiana</option>
                                    <option value="IA">Iowa</option>
                                    <option value="KS">Kansas</option>
                                    <option value="KY">Kentucky</option>
                                    <option value="LA">Louisiana</option>
                                    <option value="ME">Maine</option>
                                    <option value="MD">Maryland</option>
                                    <option value="MA">Massachusetts</option>
                                    <option value="MI">Michigan</option>
                                    <option value="MN">Minnesota</option>
                                    <option value="MS">Mississippi</option>
                                    <option value="MO">Missouri</option>
                                    <option value="MT">Montana</option>
                                    <option value="NE">Nebraska</option>
                                    <option value="NV">Nevada</option>
                                    <option value="NH">New Hampshire</option>
                                    <option value="NJ">New Jersey</option>
                                    <option value="NM">New Mexico</option>
                                    <option value="NY">New York</option>
                                    <option value="NC">North Carolina</option>
                                    <option value="ND">North Dakota</option>
                                    <option value="OH">Ohio</option>
                                    <option value="OK">Oklahoma</option>
                                    <option value="OR">Oregon</option>
                                    <option value="PA">Pennsylvania</option>
                                    <option value="PR">Puerto Rico</option>
                                    <option value="RI">Rhode Island</option>
                                    <option value="SC">South Carolina</option>
                                    <option value="SD">South Dakota</option>
                                    <option value="TN">Tennessee</option>
                                    <option value="TX">Texas</option>
                                    <option value="UT">Utah</option>
                                    <option value="VT">Vermont</option>
                                    <option value="VA">Virginia</option>
                                    <option value="WA">Washington</option>
                                    <option value="WV">West Virginia</option>
                                    <option value="WI">Wisconsin</option>
                                    <option value="WY">Wyoming</option>
                                </select>
                            </label>
                        </div>
                        <div class="birth" >
                            <label>Birth year<br />
                                <input  type="number" name="birthYear" min="1910" max="1997" required placeholder="1980"/>
                            </label>
                        </div>
                        <div class="learn" >                                  
                            <fieldset class="controlGroup">
                                <legend class="controlGroupName">How did you learn about our site?</legend>
                                <label class="radioLabel">
                                    <input type="radio" name="learn" value="friend" />Through a friend
                                </label><br />
                                <label class="radioLabel">
                                    <input type="radio" name="learn" value="web" />Read about it on a website
                                </label><br />
                                <label class="radioLabel">
                                    <input type="radio" name="learn" value="radio" />Heard a radio advertisement
                                </label><br />
                                <label class="radioLabel">
                                    <input type="radio" name="learn" value="other" />Other source
                                </label>
                            </fieldset>
                        </div>
                        <div class="empty" >
                        </div>
                        <div class="agree" >
                            <label><input type="checkbox" name="agreement" required>I agree to the terms of service for this site.</label>
                        </div>
                        <div class = "buttons" >
                            <fieldset class="controlGroup buttonGroup">
                                <button type="submit" class="horizontalButtonLayout">
                                    Submit</button>
                                <button type="button" class="horizontalButtonLayout">
                                    Cancel</button>
                            </fieldset>
                        </div>
                    </div>
                </fieldset>
            </form>
            <span class="hide">Form submitted.</span>
        </div>
    </div>

    <div id="footer" role="contentinfo"></div>
</body>
</html>